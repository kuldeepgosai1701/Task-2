<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gyroscope Motion Tracker</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100vw;
      height: 100vh;
      overflow: scroll;
    }

    body {
      font-family: Arial, sans-serif;
    }

    #world {
      position: relative;
      width: 10000px;
      height: 10000px;
    }

    #dot {
      width: 20px;
      height: 20px;
      background: blue;
      border-radius: 50%;
      position: absolute;
      z-index: 5;
    }

    .trail {
      width: 6px;
      height: 6px;
      background: rgba(0, 0, 255, 0.4);
      border-radius: 50%;
      position: absolute;
      z-index: 1;
    }

    .info {
      position: fixed;
      top: 10px;
      left: 10px;
      background: white;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 5px #ccc;
      z-index: 100;
    }
  </style>
</head>
<body>

<div class="info">
  <p id="direction">Direction: Center</p>
  <p id="location">Location: Loading...</p>
</div>

<div id="world">
  <div id="dot"></div>
</div>

<script>
  const dot = document.getElementById("dot");
  const directionText = document.getElementById("direction");
  const world = document.getElementById("world");

  // Start from center of large world
  let x = world.offsetWidth / 2;
  let y = world.offsetHeight / 2;

  function moveDot(newX, newY) {
    dot.style.left = newX + "px";
    dot.style.top = newY + "px";

    const trail = document.createElement("div");
    trail.className = "trail";
    trail.style.left = newX + 7 + "px";
    trail.style.top = newY + 7 + "px";
    world.appendChild(trail);

    // Auto-scroll to follow
    window.scrollTo({
      left: newX - window.innerWidth / 2,
      top: newY - window.innerHeight / 2,
      behavior: "smooth"
    });
  }

  function updateDirection(gamma, beta) {
    let dir = "";
    if (beta > 5) dir += "South ";
    else if (beta < -5) dir += "North ";
    if (gamma > 5) dir += "East";
    else if (gamma < -5) dir += "West";
    if (dir === "") dir = "Center";
    directionText.textContent = "Direction: " + dir;
  }

  // Initial position
  moveDot(x, y);

  // Gyroscope
  window.addEventListener("deviceorientation", (event) => {
    const gamma = event.gamma;
    const beta = event.beta;

    if (gamma !== null && beta !== null) {
      x += gamma * 1;
      y += beta * 1;

      // Bounds check
      x = Math.max(0, Math.min(x, world.offsetWidth));
      y = Math.max(0, Math.min(y, world.offsetHeight));

      moveDot(x, y);
      updateDirection(gamma, beta);
    }
  });

  // Geolocation
  function showLocation(position) {
    const lat = position.coords.latitude.toFixed(5);
    const lon = position.coords.longitude.toFixed(5);
    document.getElementById("location").textContent = `Location: ${lat}, ${lon}`;
  }

  function locationError() {
    document.getElementById("location").textContent = "Location: Unavailable";
  }

  navigator.geolocation.getCurrentPosition(showLocation, locationError);

  // Scroll dot to center on load
  setTimeout(() => {
    window.scrollTo({
      left: x - window.innerWidth / 2,
      top: y - window.innerHeight / 2,
      behavior: "auto"
    });
  }, 100);
</script>

</body>
</html>












