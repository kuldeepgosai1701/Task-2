<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dot Path Tracker</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow: auto;
      height: 100vh;
    }
    .dot {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: red;
      border-radius: 50%;
      z-index: 10;
    }
    .line {
      position: absolute;
      height: 2px;
      background-color: blue;
      transform-origin: 0 0;
      z-index: 5;
    }
    #info {
      position: fixed;
      top: 10px;
      left: 10px;
      background: #fff;
      padding: 5px;
      border: 1px solid #000;
      z-index: 1000;
    }
  </style>
</head>
<body>

<div id="info">Waiting for location...</div>

<script>
let startLat, startLon;
let isFirst = true;
let lastX, lastY;
let fakeLat = 23.0225;
let fakeLon = 72.5714;

function showLocation(position) {
  const lat = position.coords.latitude;
  const lon = position.coords.longitude;

  document.getElementById("info").textContent = `Lat: ${lat.toFixed(5)}, Lon: ${lon.toFixed(5)}`;

  if (isFirst) {
    startLat = lat;
    startLon = lon;
    isFirst = false;

    // Scroll to center
    window.scrollTo(0, 0);

    // Set lastX and lastY to screen center
    lastX = window.innerWidth / 2;
    lastY = window.innerHeight / 2;

    placeDot(lastX, lastY); // Place first dot
    return;
  }

  const dx = (lon - startLon) * 100000;
  const dy = (lat - startLat) * -100000; // minus for top-down

  const x = window.innerWidth / 2 + dx;
  const y = window.innerHeight / 2 + dy;

  moveDot(x, y);
}

function moveDot(x, y) {
  // Place new dot
  placeDot(x, y);

  // Draw line
  const line = document.createElement("div");
  line.className = "line";
  const dx = x - lastX;
  const dy = y - lastY;
  const length = Math.sqrt(dx * dx + dy * dy);
  const angle = Math.atan2(dy, dx) * 180 / Math.PI;
  line.style.width = length + "px";
  line.style.transform = `rotate(${angle}deg)`;
  line.style.left = lastX + "px";
  line.style.top = lastY + "px";
  document.body.appendChild(line);

  lastX = x;
  lastY = y;

  // Auto-scroll
  const buffer = 100;
  const scrollX = window.scrollX;
  const scrollY = window.scrollY;
  const screenWidth = window.innerWidth;
  const screenHeight = window.innerHeight;

  if (x - scrollX < buffer) {
    window.scrollTo(x - buffer, scrollY);
  } else if (x - scrollX > screenWidth - buffer) {
    window.scrollTo(x - screenWidth + buffer, scrollY);
  }

  if (y - scrollY < buffer) {
    window.scrollTo(scrollX, y - buffer);
  } else if (y - scrollY > screenHeight - buffer) {
    window.scrollTo(scrollX, y - screenHeight + buffer);
  }
}

function placeDot(x, y) {
  const dot = document.createElement("div");
  dot.className = "dot";
  dot.style.left = x + "px";
  dot.style.top = y + "px";
  document.body.appendChild(dot);
}

// Fake GPS simulator
/*setInterval(() => {
  fakeLat += 0.00002; // very small movement
  fakeLon += 0.00003;

  const fakePosition = {
    coords: {
      latitude: fakeLat,
      longitude: fakeLon
    }
  };

  showLocation(fakePosition);
}, 2000); // */
</script>
</body>
</html>























