<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Motion Tracker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Motion Tracking</h1>
  </header>

  <main>
     <div id="tracker" style="width:100%; height:100vh; position:relative;">
     <div id="dot" style="width:20px; height:20px; background:blue; border-radius:50%; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);"></div>
     <p id="info">Move your phone to see the motion path.</p>
     <p id="direction">Direction: Center</p>
     <p id="north" style="font-size: 30px; font-weight: bold; position: fixed; top : 30%; left: 50%; transform: translate(-30, -50%); color:black;">N</p>
     <button onclick="resetTracker()" style="margin-top: 10px;">Reset</button>

</main>


  <footer>
    <p>Created by Kuldeep Gosai</p>
  </footer>

  <script>
  const dot = document.getElementById('dot');
  const tracker = document.getElementById('tracker');
  const directionText = document.getElementById('direction');

  let x = tracker.offsetWidth / 2;
  let y = tracker.offsetHeight / 2;

  function updateDirection(gamma, beta) {
    let dir = '';
    if (beta > 5) dir += 'South ';
    else if (beta < -5) dir += 'North ';
    if (gamma > 5) dir += 'East';
    else if (gamma < -5) dir += 'West';
    if (dir === '') dir = 'Center';
    directionText.textContent = `Direction: ${dir}`;
  }

  window.addEventListener('deviceorientation', (event) => {
    const gamma = event.gamma;
    const beta = event.beta;

    if (gamma && beta) {
      x += gamma * 0.3;
      y += beta * 0.3;

      x = Math.max(0, Math.min(tracker.offsetWidth - 6, x));
      y = Math.max(0, Math.min(tracker.offsetHeight - 6, y));

      const trail = document.createElement('div');
      trail.style.width = '4px';
      trail.style.height = '4px';
      trail.style.background = 'blue';
      trail.style.position = 'absolute';
      trail.style.left = `${x + 2}px`;
      trail.style.top = `${y + 2}px`;
      tracker.appendChild(trail);

      dot.style.left = `${x}px`;
      dot.style.top = `${y}px`;

      updateDirection(gamma, beta);
    }
  });

  function resetTracker() {
  // Remove all trail dots
  const trails = tracker.querySelectorAll('div');
  trails.forEach(el => {
    if (el !== dot) el.remove();
  });

  // Reset position
  x = tracker.offsetWidth / 2;
  y = tracker.offsetHeight / 2;
  dot.style.left = `${x}px`;
  dot.style.top = `${y}px`;

  // Reset direction
  directionText.textContent = 'Direction: Center';
}

  </script>
</body>
</html>
